Данные—--------------------

1. Цена актива на данный момент ( поток )
2. Сделки в реальном времени ( поток )
3. Стакан ( запрос )
4. Данные свечей ( запрос )
5. Ликвидации ( поток )

Стратегии—------------------ ( пока одна, хотяб ее нормально реализовать )

~~~Торговля биткоином

Задача: Находить разворотные точки, определять тренд.

Параметры:
Сделки китов за некоторое количество времени.
Лимитные заявки.
Поток ликвидаций.

Описание: В очень упрощенной системе мы определяем тренд по сделками китов.
Берем среднее направление их сделок, наибольшее количество лимитных заявок больших игроков.

    :::::: Модель
    Для сделок протяженностью в несколько часов нам нужен тренд на 2-3 дня.
    Нужно отслеживать изменение действий игроков рынка и записывать их.
    Должны работать две величины - средневзвешанная цена рыночных заявок и средневзвешанная цена лимитных.
    (Взвешанная по объему соответственно)

Важно, что мы должны учитывать только случаи, где лимиток в противоположном направлении от сделок больше чем других.

:::::: Модель
    Считаем среднюю с/в цену лимитных заявок ( по направлению против рыночных ) и считаем с/в цену рыночных ( больших ).
    Это и есть направление  тренда и предпологаемая волна следующей волны движения.
    Также этот диапазон показывает в какой части тренда мы находимся, чем мы ближе к концу этого диапазона, тем меньше сделки.
    Коэффициентом может стать доля пройденного движения

    Расчет невозможен без хранения данных по заявкам за прошедшие 2-3 дня.
    Нужно запоминать эти дельту заявок обоих типов и на ее основе расчитывать с/в цены.
    ( Возможно стоит считать отдельно за несколько прошедших часов, но это не сложно дописать )

Направление от их прошлых сделок к их будущим - направление рынка.

Далее рассматриваем локальную ситуацию.
!Ликвидаций не будет!
Мы также сопоставляем цену с лимитными заявками китов, если разворот происходит после из достижения.

:::::: Модель
    Для начала фильтруем лимитный стакан и выделяем средневзвешенную цену самого близкого кластера лимиток.
        (кластером мы считаем значения цены 0.1- 0.2%, где наблюдается аномальный объем лимитных заявок
        относительно двух таких же диапазонов снизу и двух сверху)
    Как только цена приближается к этому кластеру на 0.5% мы начинаем анализировать сделки китов, по рынку.
    Если объемы больших сделок в направлении отскока от лимиток !сравнимы! с объемом лимитного кластера,
    то можно заходить в сделку.
!Я не нашел данных об полных объемах тех самых кластерах, а значит не могу скать об коэффициенте сравнимости!
!Нам прийдется копить данные и при их наличии выставлять коэффициенты на торговлю!
    Сделки китов беруться в промежутке времени 10-15 минут.
    Третьим критерием (урощенным критерием ликвидаций ) можно считать изменение цены, нам важно поймать
    момент отскока, значит мы должны проверить отклонение цены от экстремума. Если экстремум не был обновлен
    следующей 5 минутной свечей, заходим в сделку.

Как только точка разворота найдена - определяем уровень риска.

:::::: Модель
    Вход в сделку производится только после наличия всех трех критериев, после закрытия пятиминутной свечи.
    Объем позиции определяется:
        Отношением объема лимитного кластера,количества, среднего объема больших сделок к торговому объему
        за последние часа 2-3 ( надо уточнить на реальной статистике )
        Взаимосвязью с направлением тренда.
        Величиной движения от прошлого касания кластера ликвидности.

Стоп идет с небольшим разрывом от экстремума.
Стоп перемещается с определенным диапазоном от цены, только в сторону открытия позиции.

:::::: Модель
    Стоп ставиться за кластер ликвидности с запасом 0.1%.
    Стоп перемещается вслед за ценой. Он сдвигается параллельно цене и только в одну сторону.
    ( по идее у стопа должно боль ускорение, но я не знаю как его правильно расчитать, нет данных )

#### Как пока работаем
На время периода сбора данных, предлагаю следующий режим работы бота.
    Подключаем его быстренько к тг, вместо консоли просто для удобства доступа.
    Он должен дублировать посылать сообщение при обнаружении одного из признаков входа в позциию ( с текущей
    ценой актива )
    Так мы сможем оценить как часто или редко активируются триггеры и поменять коэффициенты.
    Я думаю я смогу регулировать бота во время его работы и настроить нормально за недельку его работы.
    Его можно запустить пока работая только с бинансом, параллельно настраивая все остальные биржи
    в другой ветке.
    И еще, если мы это согласуем, вынеси пожалуйста все нужные коэффициенты в отдельный файл, чтобы
    я мог их изменять не трогая код.
    Пока коэффициенты можно поставить на глаз, будет время доработать. А я пошел делать домашку по экономике...